{"version":3,"file":"static/webpack/static/development/pages/_app.js.37b0f00eb369bec76ff4.hot-update.js","sources":["webpack:///./components/Layout.js"],"sourcesContent":["import React, { useMemo, useRef, useEffect } from 'react'\nimport styled from 'styled-components'\nimport { withRouter } from 'next/router'\nimport Link from 'next/link'\nimport { TiHome } from \"react-icons/ti\"\nimport Pendulum from 'lib/doublePendulum'\n\nconst Container = styled.div`\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  padding-bottom: 0px;\n  overflow: hidden;\n  position: relative;\n\n  canvas{\n    position: absolute;\n    bottom:0;\n    right:0;\n    z-index: 0\n  }\n\n  .top-layout{\n    flex: ${p => p.home ? '0 0 auto' : '1 1 auto'};\n    z-index: 1;\n    overflow: auto;\n    ${p => p.theme.mobile ? `\n      overflow-y: scroll; /* has to be scroll, not auto */\n      -webkit-overflow-scrolling: touch;\n    ` : null}\n  }\n\n  .top-layout::-webkit-scrollbar-track{\n  \tbackground-color: transparent;\n  }\n\n  .top-layout::-webkit-scrollbar{\n  \twidth: 13px;\n  \tbackground-color: transparent;\n  }\n\n  .top-layout::-webkit-scrollbar-thumb{\n  \tbackground-color: rgba(255,255,255,0.2);\n  }\n\n  .bottom-layout{\n    flex: 0 0 auto;\n    z-index: 1;\n  }\n\n  .pad{\n    height: ${p => p.home ? 'auto' : '0vh'};\n    flex: ${p => p.home ? '1 1 auto' : '0 0 auto'};\n    transition: all 500ms;\n  }\n\n\n`\n\nconst Logo = styled.div`\n  padding: 0 55px;\n  padding-top: ${p => p.home ? '55px' : '21px'};\n  transform: translate3d(0,0,0);\n  transition: all 200ms;\n\n  h1{\n    font-family: \"Source Serif Pro\", serif;\n    font-weight: 400;\n    font-size: ${p => p.home ? '4.236em' : '2.82em'};\n    line-height: 1em;\n    margin-top: 13px;\n    transform: translate3d(0,0,0);\n    transition: all 200ms;\n\n    a{\n      color: ${p => p.theme.text};\n    }\n  }\n`\nconst Content = styled.div`\n  padding: ${p => p.fullContent ? '0px' : '0px 55px'};\n`\n\nconst Nav = styled.div`\n  transition: all 500ms;\n  padding: 0px 55px;\n\n  display: flex;\n  align-items: center;\n\n  a{\n    line-height: 89px;\n    margin-right: 13px;\n    display: flex;\n    align-items: center;\n\n    svg{\n      font-size: 21px;\n    }\n  }\n  a.home-link{\n    margin-right: 21px;\n  }\n`\n\nexport default withRouter(({ router, children }) => {\n\n  const isHome = useMemo(() => router.pathname === '/')\n  const fullContent = useMemo(() => router.pathname.match(/\\/work\\/.+/))\n\n  const canvas = useRef();\n  const pendulum = useRef();\n\n  useEffect(() => {\n    if(pendulum.current && pendulum.current.stop) pendulum.current.stop();\n    if(!isHome) return;\n    if(!canvas.current) return;\n    pendulum.current = Pendulum(canvas.current, uri => {\n      console.log(uri)\n    })\n  },[ isHome ])\n\n  return <Container home={isHome}>\n\n    { isHome ? <canvas ref={canvas}></canvas> : (canvas.current = null) }\n\n    <div className='top-layout'>\n      { fullContent ? null : <Logo home={isHome}>\n        <h1><Link href=\"/\"><a>juji };</a></Link></h1>\n      </Logo> }\n      <Content fullContent={fullContent}>{children}</Content>\n    </div>\n\n    { fullContent ? null : <Nav className='bottom-layout' home={isHome}>\n      { isHome ? null : <Link href=\"/\"><a className=\"home-link\"><TiHome /></a></Link> }\n      <Link href=\"/work\"><a>Work</a></Link>\n      <Link href=\"/technologies\"><a>Technologies</a></Link>\n      <Link href=\"/contacts\"><a>Contacts</a></Link>\n    </Nav> }\n\n    <div className='pad'></div>\n  </Container>\n\n})\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AAgBA;AAAA;AAGA;AAAA;AAyBA;AAAA;AACA;AAAA;AAOA;AAEA;AAAA;AAOA;AAAA;AAOA;AAAA;AAIA;AACA;AAAA;AAGA;AAsBA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;A","sourceRoot":""}