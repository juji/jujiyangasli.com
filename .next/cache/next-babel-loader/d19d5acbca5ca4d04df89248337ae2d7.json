{"ast":null,"code":"import _taggedTemplateLiteral from \"@babel/runtime-corejs2/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/juji/works/juji/components/Layout.js\";\nvar __jsx = React.createElement;\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n  transition: all 500ms;\\n  padding: 0px 55px;\\n\\n  display: flex;\\n  align-items: center;\\n\\n  a{\\n    line-height: 89px;\\n    margin-right: 13px;\\n    display: flex;\\n    align-items: center;\\n\\n    svg{\\n      font-size: 21px;\\n    }\\n  }\\n  a.home-link{\\n    margin-right: 21px;\\n  }\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  padding: \", \";\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  padding: 0 55px;\\n  padding-top: \", \";\\n  transform: translate3d(0,0,0);\\n  transition: all 200ms;\\n\\n  h1{\\n    font-family: \\\"Source Serif Pro\\\", serif;\\n    font-weight: 400;\\n    font-size: \", \";\\n    line-height: 1em;\\n    margin-top: 13px;\\n    transform: translate3d(0,0,0);\\n    transition: all 200ms;\\n\\n    a{\\n      color: \", \";\\n    }\\n  }\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  height: 100vh;\\n  display: flex;\\n  flex-direction: column;\\n  padding-bottom: 0px;\\n  overflow: hidden;\\n  position: relative;\\n\\n  canvas{\\n    position: absolute;\\n    bottom:0;\\n    right:0;\\n    z-index: 0\\n  }\\n\\n  .top-layout{\\n    flex: \", \";\\n    z-index: 1;\\n    overflow: auto;\\n    \", \"\\n  }\\n\\n  .bottom-layout{\\n    flex: 0 0 auto;\\n    z-index: 1;\\n  }\\n\\n  .pad{\\n    height: \", \";\\n    flex: \", \";\\n    transition: all 500ms;\\n  }\\n\\n\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useMemo, useRef, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { withRouter } from 'next/router';\nimport Link from 'next/link';\nimport { TiHome } from \"react-icons/ti\";\nimport Pendulum from 'lib/doublePendulum';\nvar Container = styled.div(_templateObject(), function (p) {\n  return p.home ? '0 0 auto' : '1 1 auto';\n}, function (p) {\n  return p.theme.mobile ? \"\\n      overflow-y: scroll; /* has to be scroll, not auto */\\n      -webkit-overflow-scrolling: touch;\\n    \" : null;\n}, function (p) {\n  return p.home ? 'auto' : '0vh';\n}, function (p) {\n  return p.home ? '1 1 auto' : '0 0 auto';\n});\nvar Logo = styled.div(_templateObject2(), function (p) {\n  return p.home ? '55px' : '21px';\n}, function (p) {\n  return p.home ? '4.236em' : '2.82em';\n}, function (p) {\n  return p.theme.text;\n});\nvar Content = styled.div(_templateObject3(), function (p) {\n  return p.fullContent ? '0px' : '0px 55px';\n});\nvar Nav = styled.div(_templateObject4());\nexport default withRouter(function (_ref) {\n  var router = _ref.router,\n      children = _ref.children;\n  var isHome = useMemo(function () {\n    return router.pathname === '/';\n  });\n  var fullContent = useMemo(function () {\n    return router.pathname.match(/\\/work\\/.+/);\n  });\n  var canvas = useRef();\n  var pendulum = useRef();\n  useEffect(function () {\n    if (pendulum.current && pendulum.current.stop) pendulum.current.stop();\n    if (!isHome) return;\n    if (!canvas.current) return;\n    pendulum.current = Pendulum(canvas.current, function (uri) {\n      console.log(uri);\n    });\n  }, [isHome]);\n  return __jsx(Container, {\n    home: isHome,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, isHome ? __jsx(\"canvas\", {\n    ref: canvas,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }) : canvas.current = null, __jsx(\"div\", {\n    className: \"top-layout\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, fullContent ? null : __jsx(Logo, {\n    home: isHome,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, __jsx(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, __jsx(Link, {\n    href: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, __jsx(\"a\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, \"juji };\")))), __jsx(Content, {\n    fullContent: fullContent,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, children)), fullContent ? null : __jsx(Nav, {\n    className: \"bottom-layout\",\n    home: isHome,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }, isHome ? null : __jsx(Link, {\n    href: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, __jsx(\"a\", {\n    className: \"home-link\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, __jsx(TiHome, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }))), __jsx(Link, {\n    href: \"/work\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }, __jsx(\"a\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }, \"Work\")), __jsx(Link, {\n    href: \"/technologies\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }, __jsx(\"a\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }, \"Technologies\")), __jsx(Link, {\n    href: \"/contacts\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }, __jsx(\"a\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }, \"Contacts\"))), __jsx(\"div\", {\n    className: \"pad\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }));\n});","map":{"version":3,"sources":["/Users/juji/works/juji/components/Layout.js"],"names":["React","useMemo","useRef","useEffect","styled","withRouter","Link","TiHome","Pendulum","Container","div","p","home","theme","mobile","Logo","text","Content","fullContent","Nav","router","children","isHome","pathname","match","canvas","pendulum","current","stop","uri","console","log"],"mappings":"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","sourcesContent":["import React, { useMemo, useRef, useEffect } from 'react'\nimport styled from 'styled-components'\nimport { withRouter } from 'next/router'\nimport Link from 'next/link'\nimport { TiHome } from \"react-icons/ti\"\nimport Pendulum from 'lib/doublePendulum'\n\nconst Container = styled.div`\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  padding-bottom: 0px;\n  overflow: hidden;\n  position: relative;\n\n  canvas{\n    position: absolute;\n    bottom:0;\n    right:0;\n    z-index: 0\n  }\n\n  .top-layout{\n    flex: ${p => p.home ? '0 0 auto' : '1 1 auto'};\n    z-index: 1;\n    overflow: auto;\n    ${p => p.theme.mobile ? `\n      overflow-y: scroll; /* has to be scroll, not auto */\n      -webkit-overflow-scrolling: touch;\n    ` : null}\n  }\n\n  .bottom-layout{\n    flex: 0 0 auto;\n    z-index: 1;\n  }\n\n  .pad{\n    height: ${p => p.home ? 'auto' : '0vh'};\n    flex: ${p => p.home ? '1 1 auto' : '0 0 auto'};\n    transition: all 500ms;\n  }\n\n\n`\n\nconst Logo = styled.div`\n  padding: 0 55px;\n  padding-top: ${p => p.home ? '55px' : '21px'};\n  transform: translate3d(0,0,0);\n  transition: all 200ms;\n\n  h1{\n    font-family: \"Source Serif Pro\", serif;\n    font-weight: 400;\n    font-size: ${p => p.home ? '4.236em' : '2.82em'};\n    line-height: 1em;\n    margin-top: 13px;\n    transform: translate3d(0,0,0);\n    transition: all 200ms;\n\n    a{\n      color: ${p => p.theme.text};\n    }\n  }\n`\nconst Content = styled.div`\n  padding: ${p => p.fullContent ? '0px' : '0px 55px'};\n`\n\nconst Nav = styled.div`\n  transition: all 500ms;\n  padding: 0px 55px;\n\n  display: flex;\n  align-items: center;\n\n  a{\n    line-height: 89px;\n    margin-right: 13px;\n    display: flex;\n    align-items: center;\n\n    svg{\n      font-size: 21px;\n    }\n  }\n  a.home-link{\n    margin-right: 21px;\n  }\n`\n\nexport default withRouter(({ router, children }) => {\n\n  const isHome = useMemo(() => router.pathname === '/')\n  const fullContent = useMemo(() => router.pathname.match(/\\/work\\/.+/))\n\n  const canvas = useRef();\n  const pendulum = useRef();\n\n  useEffect(() => {\n    if(pendulum.current && pendulum.current.stop) pendulum.current.stop();\n    if(!isHome) return;\n    if(!canvas.current) return;\n    pendulum.current = Pendulum(canvas.current, uri => {\n      console.log(uri)\n    })\n  },[ isHome ])\n\n  return <Container home={isHome}>\n\n    { isHome ? <canvas ref={canvas}></canvas> : (canvas.current = null) }\n\n    <div className='top-layout'>\n      { fullContent ? null : <Logo home={isHome}>\n        <h1><Link href=\"/\"><a>juji };</a></Link></h1>\n      </Logo> }\n      <Content fullContent={fullContent}>{children}</Content>\n    </div>\n\n    { fullContent ? null : <Nav className='bottom-layout' home={isHome}>\n      { isHome ? null : <Link href=\"/\"><a className=\"home-link\"><TiHome /></a></Link> }\n      <Link href=\"/work\"><a>Work</a></Link>\n      <Link href=\"/technologies\"><a>Technologies</a></Link>\n      <Link href=\"/contacts\"><a>Contacts</a></Link>\n    </Nav> }\n\n    <div className='pad'></div>\n  </Container>\n\n})\n"]},"metadata":{},"sourceType":"module"}